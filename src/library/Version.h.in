#pragma once

#include "PR_Config.h"

#define PR_NAME_STRING		"${CMAKE_PROJECT_NAME}"
#define PR_VENDOR_STRING	"${VENDOR}"

#define PR_VERSION_MAJOR	${PROJECT_VERSION_MAJOR}
#define PR_VERSION_MINOR	${PROJECT_VERSION_MINOR}
#define PR_VERSION_STRING 	"${PROJECT_VERSION}"

#define PR_VERSION_BUILD(major, minor) (((major) << 8) | (minor))
#define PR_VERSION			PR_VERSION_BUILD(PR_VERSION_MAJOR, PR_VERSION_MINOR)

#define PR_GIT_BRANCH 	    "${GIT_BRANCH}"
#define PR_GIT_REVISION 	"${GIT_REVISION}"

//OS
#if defined(__linux) || defined(linux)
# define PR_OS_LINUX
# define PR_OS_NAME "Linux"
#elif defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__WINDOWS__) || defined(__TOS_WIN__)
# define PR_OS_WINDOWS
# if !defined(Win64) && !defined(_WIN64)
#  define PR_OS_WINDOWS_32
#  define PR_OS_NAME "Microsoft Windows 32 Bit"
# else
#  define PR_OS_WINDOWS_64
#  define PR_OS_NAME "Microsoft Windows 64 Bit"
# endif
#else
# error Your operating system is currently not supported
#endif

//Compiler
#if defined(PR_CC_CYGWIN)
# define PR_CC_NAME "Cygwin"
#endif

#if defined(PR_CC_GNU)
# define PR_CC_NAME "GNU C/C++"
#endif

#if defined(PR_CC_MINGW32)
# if !defined(PR_CC_GNU)
#  define PR_CC_NAME "MinGW 32"
# else
#  undef PR_CC_NAME
#  define PR_CC_NAME "GNU C/C++(MinGW 32)"
# endif
#endif

#if defined(PR_CC_INTEL)
# define PR_CC_NAME "Intel C/C++"
#endif

#if defined(PR_CC_MSC)
# define PR_CC_NAME "Microsoft Visual C++"
#endif

#if !defined(PR_CC_NAME)
# define PR_CC_NAME "Unknown compiler"
#endif

#if defined(PR_DEBUG)
# define PR_BUILDVARIANT_NAME "Debug"
# define PR_BUILD_STRING PR_NAME_STRING " " PR_VERSION_STRING " build variant " PR_BUILDVARIANT_NAME " on " __DATE__  " at " __TIME__ " with " PR_CC_NAME " { OS: " PR_OS_NAME "; Branch: " PR_GIT_BRANCH "; Rev: " PR_GIT_REVISION "}\n"
#else
# define PR_BUILDVARIANT_NAME "Release"
# define PR_BUILD_STRING PR_NAME_STRING " " PR_VERSION_STRING " build variant " PR_BUILDVARIANT_NAME " { OS: " PR_OS_NAME " }\n"
#endif